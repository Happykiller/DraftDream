
> api@0.12.0 test
> jest src/usecases/sport/program-record/__tests__/create.program-record.usecase.spec.ts

FAIL src/usecases/sport/program-record/__tests__/create.program-record.usecase.spec.ts
  CreateProgramRecordUsecase
    âˆš should create a program record for an athlete (2 ms)
    Ã— should create a new record even if one already exists (1 ms)
    âˆš should forbid athletes creating records for other users (16 ms)

  â— CreateProgramRecordUsecase â€º should create a new record even if one already exists

    expect(received).toHaveBeenCalled()

    Matcher error: received value must be a mock or spy function

    Received has type:  function
    Received has value: [Function fn]

    [0m [90m 113 |[39m
     [90m 114 |[39m     expect(result)[33m.[39mtoEqual(expected)[33m;[39m
    [31m[1m>[22m[39m[90m 115 |[39m     expect(asMock(programRecordRepositoryMock[33m.[39mcreate))[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 116 |[39m   })[33m;[39m
     [90m 117 |[39m
     [90m 118 |[39m   it([32m'should forbid athletes creating records for other users'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/usecases/sport/program-record/__tests__/create.program-record.usecase.spec.ts:115:56)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 2 passed, 3 total
Snapshots:   0 total
Time:        1.623 s, estimated 2 s
Ran all test suites matching src/usecases/sport/program-record/__tests__/create.program-record.usecase.spec.ts.
